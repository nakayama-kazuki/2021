<div id='disp'></div>
<script>

'use strict';

function disp(in_dat)
{
	let div = document.createElement('DIV');
	div.innerText = in_dat;
	document.getElementById('disp').appendChild(div);
}

function some_proc_a()
{
	return new Promise((resolve) => {
		if (Math.random() > 0.5) {
			(resolve)(true);
		} else {
			throw new Error();
		}
	});
}

async function some_proc_b()
{
	return new Promise((resolve) => {
		if (Math.random() > 0.5) {
			(resolve)(true);
		} else {
			throw new Error();
		}
	});
}

async function some_proc_c()
{
	if (Math.random() > 0.5) {
		return true;
	} else {
		throw new Error();
	}
}

some_proc_a().then((in_res) => {
	disp('1. then : ' + in_res);
}).catch((err) => {
	disp('1. catch : ' + err);
});

// Async Function must return Promise instance.
// when Async Function retuens Promise instance, it means asis.
some_proc_b().then((in_res) => {
	disp('2. then : ' + in_res);
}).catch((err) => {
	disp('2. catch : ' + err);
});

// when Async Function returns value, it means Fulfilled Promise instance with value.
// in Async Function, when exception happens, it returns Rejected Promise instance.
some_proc_c().then((in_res) => {
	disp('3. then : ' + in_res);
}).catch((err) => {
	disp('3. catch : ' + err);
});

</script>
